Object AmericaJetSpectreGunship

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      Animation                       = AVSGunship.AVSGunship
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End

    ConditionState = REALLYDAMAGED
      Model           = AVSGunship_D
      Animation                       = AVSGunship_D.AVSGunship_D
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVSGunship_E
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

   OkToChangeModelColor = Yes
   ParticlesAttachedToAnimatedBones = Yes 

 End



  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AmericaAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = SpectreGunshipArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresSpectreGunshipArmor
    DamageFX              = AAHitscanDamageFX
  End


  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 40 40 40 40    ;Experience point value at each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = USMC_AC130SupportSelect
  VoiceAttack         = USMC_AC130SupportAttack
  SoundAmbient = C130AmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    HowitzerFire   = SpectreHowitzerWeapon
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
  OCLInitialDeath                    = OCL_CargoUSASlowBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------


  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_04
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_05
    SpecialPowerTemplate = SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_06
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 25     
    TargetingReticleRadius  = 30
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 400   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 600 ;600   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 32000 ;20000 ;32000 ; thirty-two seconds

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End

  Behavior = HelixContain ModuleTag_07
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
    ShouldDrawPips            = No
  End


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End
;--------------------------------
;------------------------------------------------------------------------------
Object SpectreGunshipGattlingCannon

  ; *** ART Parameters ***
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = CHASIS

    DefaultConditionState
      Model               = AVSGUNSHIP_GUN
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY WEAPONA
    End

  ConditionState = ATTACKING
      Model               = AVSGUNSHIP_GUN
      Animation                       = AVSGUNSHIP_GUN.AVSGUNSHIP_GUN
      AnimationMode                   = LOOP
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY WEAPONA
    End

  End

  ; ***DESIGN parameters ***
  Side             = China
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreGattlingGun
  End
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY 
      TurretTurnRate      = 265   // turn rate, in degrees per sec
      TurretPitchRate     = 160
      AllowsPitch         = Yes
    End
    AutoAcquireEnemiesWhenIdle = No 
  End

  Behavior             = DestroyDie DeathTag_01
    ;nothing
  End


  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight      = 3.0
  GeometryIsSmall     = No      
  Shadow              = NONE
End

;------------------------------------------------------------------------------
Object SpectreGunshipHowitzer

  ; *** ART Parameters ***
  Draw                    = W3DModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes

    DefaultConditionState
      Model               = AVSGUNSHIP_GHOW
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

  End

  ; ***DESIGN parameters ***
  Side             = China
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 140   // turn rate, in degrees per sec
      TurretPitchRate     = 60
      AllowsPitch         = Yes
    End
    AutoAcquireEnemiesWhenIdle = No 
  End

  Behavior             = DestroyDie DeathTag_01
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_04
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 13.0
  GeometryHeight      = 8.0
  GeometryIsSmall     = No      
  Shadow              = NONE
End

Object AmericaJetAircraftCarrierRaptor

  ; *** ART Parameters ***
  SelectPortrait         = SACRaptor_L
  ButtonImage            = SACRaptor_L
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw                   = W3DModelDraw ModuleTag_01
 
    DefaultConditionState
      Model               = PSCarRapt
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = PSCarRapt_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = PSCarRapt_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = PSCarRapt_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = PSCarRapt_D1B
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = PSCarRapt_D1B
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Raptor
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 180.0 
  ShroudClearingRange     = 250

  WeaponSet
    Conditions            = None 
    Weapon                = PRIMARY AircraftCarrierRaptorJetMissileWeapon
  End
  ArmorSet
    Conditions            = None
    Armor                 = USAAirplaneArmor
    DamageFX              = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = USAAdvancedAirplaneArmor
    DamageFX              = None
  End


  BuildCost               = 0
  BuildTime               = 4   
  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 200 300 500   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = AmericaJetRaptorCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = RaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = NoSound
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 160.0
    InitialHealth        = 160.0
  End

  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior                          = JetSlowDeathBehavior DeathTag_01
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorGeneralPowerDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior                    = EjectPilotDie ModuleTag_03
    ExemptStatus         = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  
  Behavior               = PhysicsBehavior ModuleTag_04
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle = YES ATTACK_BUILDINGS
  End
  Locomotor = SET_NORMAL RaptorLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 24.0
  GeometryMinorRadius      = 16.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End


Object AmericaJetA10Thunderbolt

  ; *** ART Parameters ***
  SelectPortrait         = SAWarthog_L
  ButtonImage            = SAWarthog_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponA05
    ExtraPublicBone = WeaponA06

    DefaultConditionState
      Model             = AVA10S
      WeaponMuzzleFlash = PRIMARY Muzzle
      WeaponFireFXBone  = PRIMARY Muzzle
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState      = REALLYDAMAGED
      Model             = AVA10S_D
      WeaponMuzzleFlash = PRIMARY Muzzle
      WeaponFireFXBone  = PRIMARY Muzzle
    End
    AliasConditionState  = RUBBLE

   ParticlesAttachedToAnimatedBones = Yes 

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:A10Thunderbolt
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 0
  Prerequisites
    Object = AmericaAirfield
  End
  WeaponSet
    Conditions = None 
    Weapon            = PRIMARY A10ThunderboltVulcan
  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = AAHitscanDamageFX
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient           = A10AmbientLoop
  SoundAmbientRubble     = NoSound
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10DieSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 500.0
    InitialHealth   = 500.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End
 
  Behavior = DeliverPayloadAIUpdate ModuleTag_04
  End

  Locomotor = SET_NORMAL A10ThunderboltLocomotor

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 600  ; Time between flare volleys
    NumberOfVolleys       = 6     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior = JetSlowDeathBehavior DeathTag_01
  FXOnGroundDeath = FX_JetGroundDeathSmall
  OCLOnGroundDeath = OCL_A10SDeathFinalBlowUp
  FX = INITIAL FX_SmallPlaneDeathInitial
  OCL = INITIAL OCL_A10SSlowBD
 End
; --lifted nose up
; Behavior = JetSlowDeathBehavior DeathTag_02
;  ProbabilityModifier = 50
;  FX = INITIAL FX_SmallPlaneDeathInitial
;  OCL = INITIAL OCL_A10SFastBD
; End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponA10ThunderboltMissileStrike ;@@KRIS@@
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_08
  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaJetF35SP

  ; *** ART Parameters ***
  SelectPortrait         = F35-ic_L
  ButtonImage            = F35-ic_L
  
  ;UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model               = AVF-35_NFZ
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = SECONDARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      Model               = AVF-35_NFZ
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVF-35_NFZ_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVF-35_NFZ_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVF-35_NFZ_D
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01
    End

    ConditionState        = RUBBLE
      Model               = AVF-35_E
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVF-35_E
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:F35
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 999.0 
  ShroudClearingRange = 200

  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor_NFZ
    DamageFX        = AAHitscanDamageFX
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient           = A10AmbientLoop
  SoundAmbientRubble     = NoSound
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10DieSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End
 
  Behavior = DeliverPayloadAIUpdate ModuleTag_04
  End

  Locomotor = SET_NORMAL RaptorLocomotor

;Upgrades----------------------------------------------------------
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 200  ; Time between flare volleys
    NumberOfVolleys       = 8    ; Number of times the volleys will fire before reloading
    ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
; Behavior                            = JetSlowDeathBehavior DeathTag_01
;    DeathTypes = ALL -EXTRA_2
;    ProbabilityModifier             = 50
;    FXOnGroundDeath = FX_JetGroundDeathSmall
;    OCLOnGroundDeath = OCL_F35DeathFinalBlowUp
;    FXInitialDeath                     = FX_SmallPlaneDeathInitial
;    OCLInitialDeath                    = OCL_F35SlowBD
; End
; --lifted nose up
 Behavior                            = JetSlowDeathBehavior DeathTag_02
    DeathTypes = ALL -EXTRA_2
    ;ProbabilityModifier             = 50
    FXInitialDeath                     = FX_SmallPlaneDeathInitial
    OCLInitialDeath                    = OCL_F35FastBD
 End

 Behavior = JetSlowDeathBehavior DeathTag_03
    DeathTypes = NONE +EXTRA_2
    OCLInitialDeath                    = OCL_F35NFZ_Entry
 End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 1000 ; msec
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponF35MissileStrike
    OCL                  = SUPERWEAPON_F35MissileAttack
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Behavior = FireWeaponCollide ModuleTag_07
      CollideWeapon = F35NFZ_RemoveChildObjectWeapon
      RequiredStatus = NO_ATTACK
  End



  Behavior = CommandButtonHuntUpdate  ModuleTag_08
  End

;  Behavior = SquishCollide ModuleTag_13
;  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 15.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaJetF117SP

  ; *** ART Parameters ***
  SelectPortrait         = F117-ic_L
  ButtonImage            = F117-ic_L

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  UpgradeCameo3 = Upgrade_StealthFlightStabilityControlers

  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVStealth
      HideSubObject                   = BurnerFX01 BurnerFX02
      WeaponLaunchBone  = PRIMARY WeaponA
    End
    
    ConditionState        = JETEXHAUST
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      Model                           = AVStealth
      Animation       = AVStealth.AVStealth
      AnimationMode   = LOOP
      ; exhaust
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model                           = AVStealth_D
      Animation       = AVStealth_D.AVStealth_D
      AnimationMode   = LOOP
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX01 BurnerFX02
    End

    ConditionState        = RUBBLE
      Model               = AVStealth_R
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVStealth_R
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End
    
    OkToChangeModelColor = Yes
  End

  Draw                = W3DModelDraw ModuleTag_02
  
    DefaultConditionState
      Model           = None
    End
    
    ConditionState    = FIRING_A
      Model           = F117Laser
      Animation       = F117Laser.F117Laser
      AnimationMode   = ONCE
      TransitionKey   = TRANS_START_FIRING
    End

    ConditionState    = WEAPONSET_PLAYER_UPGRADE
      Model           = None
    End

    ConditionState    = WEAPONSET_PLAYER_UPGRADE FIRING_A
      Model           = F117Laser
      Animation       = F117Laser.F117Laser
      AnimationMode   = ONCE
      TransitionKey   = TRANS_START_FIRING
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:StealthFighter
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 0
  Prerequisites
    Object = AmericaAirfield
  End
;  WeaponSet
;    Conditions = None 
;    Weapon            = PRIMARY A10ThunderboltVulcan
;  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = AAHitscanDamageFX
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient           = A10AmbientLoop
  SoundAmbientRubble     = NoSound
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10DieSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End
 
  Behavior = DeliverPayloadAIUpdate ModuleTag_05
  End

  Locomotor = SET_NORMAL F117Locomotor
  Locomotor = SET_NORMAL_UPGRADED F117UPLocomotor

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 200  ; Time between flare volleys
    NumberOfVolleys       = 8    ; Number of times the volleys will fire before reloading
    ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
  Behavior = LocomotorSetUpgrade Upgrade_03
    TriggeredBy = Upgrade_StealthFlightStabilityControlers
  End
;Deaths-------------------------------------------------------------
 Behavior = JetSlowDeathBehavior DeathTag_01
  FXOnGroundDeath = FX_JetGroundDeathSmall
  OCLOnGroundDeath = OCL_StealthDeathFinalBlowUp
  FX = INITIAL FX_SmallPlaneDeathInitial
  OCL = INITIAL OCL_F117SlowBD
 End
; Behavior = JetSlowDeathBehavior DeathTag_02
;  ProbabilityModifier = 50
;  FX = INITIAL FX_StealthFighterDeathInitial
;  OCL = INITIAL OCL_F117FastBD
; End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 1000 ; msec
    ;StealthForbiddenConditions            = FIRING_PRIMARY
    ; not currently used... but maybe someday? (srj)
    ;RevealDistanceFromTarget             = 0.0f
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;---------------------------------------------------------------------

  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponF117BombStrike
    UpgradeOCL           = SCIENCE_F117BombStrike3 SUPERWEAPON_F117BombStrike3
    UpgradeOCL           = SCIENCE_F117BombStrike2 SUPERWEAPON_F117BombStrike2
    OCL                  = SUPERWEAPON_F117BombStrike1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09
  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaJetB2SP

  ; *** ART Parameters ***
  SelectPortrait         = B2-ic_L
  ButtonImage            = B2-ic_L
  
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_AmericaNukeMissile
  UpgradeCameo3 = Upgrade_StealthFlightStabilityControlers
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVB3bmbr
      Animation        = AVB3bmbr.AVB3bmbr
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BurnerFX03 BurnerFX04
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponB
    End
    
    ConditionState        = JETEXHAUST
      Model            = AVB3bmbr
      Animation        = AVB3bmbr.AVB3bmbr
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      Model            = AVB3bmbr
      Animation        = AVB3bmbr.AVB3bmbr
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVB3bmbr_D
      Animation        = AVB3bmbr_D.AVB3bmbr_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVB3bmbr_D
      Animation        = AVB3bmbr_D.AVB3bmbr_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVB3bmbr_D
      Animation        = AVB3bmbr_D.AVB3bmbr_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AVB3bmbr_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVB3bmbr_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    
    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B2
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 0
  Prerequisites
    Object = AmericaAirfield
  End
;  WeaponSet
;    Conditions = None 
;    Weapon            = PRIMARY A10ThunderboltVulcan
;  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = AAHitscanDamageFX
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient           = A10AmbientLoop
  SoundAmbientRubble     = NoSound
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = B2Attack
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End
 
  Behavior = DeliverPayloadAIUpdate ModuleTag_05
    ;DoorDelay         = 500
    ;MaxAttempts       = 4
    ;DropOffset        = X:0 Y:0 Z:-10
    ;DropDelay         = 300     ; time in between each item dropped (if more than one)
    ;PutInContainer    = AmericaParachute
    ;DeliveryDistance  = 150
  End


  Locomotor = SET_NORMAL B2Locomotor
  Locomotor = SET_NORMAL_UPGRADED B2UPLocomotor

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 200  ; Time between flare volleys
    NumberOfVolleys       = 8    ; Number of times the volleys will fire before reloading
    ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
  Behavior = LocomotorSetUpgrade Upgrade_03
    TriggeredBy = Upgrade_StealthFlightStabilityControlers
  End
;Deaths-------------------------------------------------------------
;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
  FXOnGroundDeath = FX_BigMissileCarrierDeath
  OCLOnGroundDeath = OCL_B2DeathFinalBlowUp
  FX = INITIAL FX_BigPlaneDeathInitial
  OCL = INITIAL OCL_B2SlowBD
 End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 1000 ; msec
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;---------------------------------------------------------------------

  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = AirF_SuperweaponCarpetBomb
    OCL                  = AirF_SUPERWEAPON_CarpetBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End


  Behavior    = OCLSpecialPower ModuleTag_06A
    SpecialPowerTemplate = Superweapon_B2_CarpetBomb
    UpgradeOCL           = SCIENCE_B2_CarpetBomb3 SUPERWEAPON_B2BombStrike3
    UpgradeOCL           = SCIENCE_B2_CarpetBomb2 SUPERWEAPON_B2BombStrike2
    OCL                  = SUPERWEAPON_B2BombStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09
  End



  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaJetAWACS_L1

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVAWACS
      Animation                       = AVAWACS.AVAWACS
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End

    ConditionState = REALLYDAMAGED
      Model           = AVAWACS_D
      Animation                       = AVAWACS_D.AVAWACS_D
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVAWACS_E
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

   OkToChangeModelColor = Yes
   ParticlesAttachedToAnimatedBones = Yes 

 End

  Draw = W3DModelDraw ModuleTag_Dish ; Radar Dish

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVAWACS_A
      Animation                       = AVAWACS_A.AVAWACS_A
      AnimationMode                   = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model           = AVAWACS_AD
      Animation                       = AVAWACS_AD.AVAWACS_AD
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model           = AVAWACS_AD
    End
   ParticlesAttachedToAnimatedBones = Yes 

 End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AWACS
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AmericaAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = SpectreGunshipArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresSpectreGunshipArmor
    DamageFX              = AAHitscanDamageFX
  End


  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 40 40 40 40    ;Experience point value at each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = USAF_AWACSSelect
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED NO_SELECT UNATTACKABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 9999.0
    InitialHealth   = 9999.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 500  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 3500     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 75%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
  OCLInitialDeath                    = OCL_AWACSUSASlowBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = AIUpdateInterface ModuleTag_04
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC AWACSTransitLocomotor
  Locomotor = SET_NORMAL AWACSOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_05
    SpecialPowerTemplate = SuperweaponAWACS
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_06
    SpecialPowerTemplate            = SuperweaponAWACS
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 300
    AttackAreaRadius        = 250
    OrbitTime               = 20000
;    AttackAreaDecal
;      Texture           = SCCSpecTarg
;      Style             = SHADOW_ALPHA_DECAL
;      OpacityMin        = 25%
;      OpacityMax        = 50%
;      OpacityThrobTime  = 1500
;       Color             = R:127 G:177 B:222 A:255 
;      OnlyVisibleToOwningPlayer = Yes
;    End
;    TargetingReticleDecal
;      Texture           = SCCSpecRet
;      Style             = SHADOW_ALPHA_DECAL
;      OpacityMin        = 50%
;      OpacityMax        = 100%
;      OpacityThrobTime  = 300
;      Color             = R:127 G:177 B:222 A:255 
;      OnlyVisibleToOwningPlayer = Yes
;    End
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_09
    WeaponTemplate        = AWACSPointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE
    ScanRate              = 300
    ScanRange             = 300.0
    PredictTargetVelocityFactor = 3.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_10
    DetectionRate   = 800   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 300 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf     = AIRCRAFT
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthDetectorUpdate ModuleTag_10a
    DetectionRate   = 800   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 300 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf     = DRONE
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End


  Behavior = FireWeaponUpdate ModuleTag_12
    Weapon = AWACSTriggerWeapon
    InitialDelay = 5000
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.95
End

Object AmericaJetAWACS_L2

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVAWACS
      Animation                       = AVAWACS.AVAWACS
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End

    ConditionState = REALLYDAMAGED
      Model           = AVAWACS_D
      Animation                       = AVAWACS_D.AVAWACS_D
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVAWACS_E
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

   OkToChangeModelColor = Yes
   ParticlesAttachedToAnimatedBones = Yes 

 End


  Draw = W3DModelDraw ModuleTag_Dish ; Radar Dish

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVAWACS_A
      Animation                       = AVAWACS_A.AVAWACS_A
      AnimationMode                   = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model           = AVAWACS_AD
      Animation                       = AVAWACS_AD.AVAWACS_AD
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model           = AVAWACS_AD
    End
   ParticlesAttachedToAnimatedBones = Yes 

 End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AWACS
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AmericaAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = SpectreGunshipArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresSpectreGunshipArmor
    DamageFX              = AAHitscanDamageFX
  End


  ExperienceValue = 40 40 40 40    ;Experience point value at each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = USAF_AWACSSelect
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED NO_SELECT UNATTACKABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 9999.0
    InitialHealth   = 9999.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 3500     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 75%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
  OCLInitialDeath                    = OCL_AWACSUSASlowBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------


  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_04
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC AWACSTransitLocomotor
  Locomotor = SET_NORMAL AWACSOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_05
    SpecialPowerTemplate = SuperweaponAWACS
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_06
    SpecialPowerTemplate            = SuperweaponAWACS
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 350
    AttackAreaRadius        = 300
    OrbitTime               = 30000

;    AttackAreaDecal
;      Texture           = SCCSpecTarg
;      Style             = SHADOW_ALPHA_DECAL
;      OpacityMin        = 25%
;      OpacityMax        = 50%
;      OpacityThrobTime  = 1500
;      Color             = R:127 G:177 B:222 A:255 
;      OnlyVisibleToOwningPlayer = Yes
;    End
;    TargetingReticleDecal
;      Texture           = SCCSpecRet
;      Style             = SHADOW_ALPHA_DECAL
;      OpacityMin        = 50%
;      OpacityMax        = 100%
;      OpacityThrobTime  = 300
;      Color             = R:127 G:177 B:222 A:255 
;      OnlyVisibleToOwningPlayer = Yes
;    End
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_09
    WeaponTemplate        = AWACSPointDefenseLaserLVL2
    PrimaryTargetTypes    = BALLISTIC_MISSILE
    ScanRate              = 350
    ScanRange             = 350.0
    PredictTargetVelocityFactor = 3.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_10
    DetectionRate   = 600   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 350 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf     = AIRCRAFT
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthDetectorUpdate ModuleTag_10a
    DetectionRate   = 600   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 350 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf     = DRONE
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthDetectorUpdate ModuleTag_10b
    DetectionRate   = 600
    DetectionRange = 350
    ExtraRequiredKindOf     = INFANTRY ;LVL2 will detect stealth infantry.
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End

  Behavior = FireWeaponUpdate ModuleTag_12
    Weapon = AWACSTriggerWeapon2
    InitialDelay = 4000
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.95
End

Object AmericaJetAWACS_L3

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVAWACS
      Animation                       = AVAWACS.AVAWACS
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End

    ConditionState = REALLYDAMAGED
      Model           = AVAWACS_D
      Animation                       = AVAWACS_D.AVAWACS_D
      AnimationMode                   = LOOP
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponFireFXBone    = SECONDARY WEAPONB
      WeaponMuzzleFlash   = PRIMARY WEAPONA
      WeaponMuzzleFlash   = SECONDARY WEAPONB
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVAWACS_E
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End

   OkToChangeModelColor = Yes
   ParticlesAttachedToAnimatedBones = Yes 

 End

  Draw = W3DModelDraw ModuleTag_Dish ; Radar Dish

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVAWACS_A
      Animation                       = AVAWACS_A.AVAWACS_A
      AnimationMode                   = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model           = AVAWACS_AD
      Animation                       = AVAWACS_AD.AVAWACS_AD
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model           = AVAWACS_AD
    End
   ParticlesAttachedToAnimatedBones = Yes 

 End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AWACS
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AmericaAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = SpectreGunshipArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresSpectreGunshipArmor
    DamageFX              = AAHitscanDamageFX
  End


  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   AWACSTriggerWeapon
  End

  ExperienceValue = 40 40 40 40    ;Experience point value at each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = USAF_AWACSSelect
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED NO_SELECT UNATTACKABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 9999.0
    InitialHealth   = 9999.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 3500     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 75%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
  OCLInitialDeath                    = OCL_AWACSUSASlowBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------


  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_04
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC AWACSTransitLocomotor
  Locomotor = SET_NORMAL AWACSOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_05
    SpecialPowerTemplate = SuperweaponAWACS
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_06
    SpecialPowerTemplate            = SuperweaponAWACS
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry

    GunshipOrbitRadius      = 350
    AttackAreaRadius        = 300
    OrbitTime               = 45000

;    AttackAreaDecal
;      Texture           = SCCSpecTarg
;      Style             = SHADOW_ALPHA_DECAL
;      OpacityMin        = 25%
;      OpacityMax        = 50%
;      OpacityThrobTime  = 1500
;      Color             = R:127 G:177 B:222 A:255 
;      OnlyVisibleToOwningPlayer = Yes
;    End
;    TargetingReticleDecal
;      Texture           = SCCSpecRet
;      Style             = SHADOW_ALPHA_DECAL
;      OpacityMin        = 50%
;      OpacityMax        = 100%
;      OpacityThrobTime  = 300
;      Color             = R:127 G:177 B:222 A:255 
;      OnlyVisibleToOwningPlayer = Yes
;    End
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_09
    WeaponTemplate        = AWACSPointDefenseLaserLVL3
    PrimaryTargetTypes    = BALLISTIC_MISSILE
    ScanRate              = 400
    ScanRange             = 400.0
    PredictTargetVelocityFactor = 3.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_10
    DetectionRate   = 400
    DetectionRange = 400
    ExtraRequiredKindOf     = AIRCRAFT
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End
  Behavior = StealthDetectorUpdate ModuleTag_10a
    DetectionRate   = 400
    DetectionRange = 400
    ExtraRequiredKindOf     = DRONE
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End
  Behavior = StealthDetectorUpdate ModuleTag_10b
    DetectionRate   = 400
    DetectionRange = 400
    ExtraRequiredKindOf     = INFANTRY ;LVL3 will detect stealth infantry as LVL2.
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End
  Behavior = StealthDetectorUpdate ModuleTag_10c
    DetectionRate   = 400
    DetectionRange = 400
    ExtraRequiredKindOf     = VEHICLE ;LVL3 will detect stealth vehicles.
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End
  Behavior = StealthDetectorUpdate ModuleTag_10d
    DetectionRate   = 400
    DetectionRange = 400
    ExtraRequiredKindOf     = STRUCTURE ;...and buildings.
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End

  Behavior = FireWeaponUpdate ModuleTag_12
    Weapon = AWACSTriggerWeapon3
    InitialDelay = 3000
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.95
End

Object AmericaVehicleBlackhawk_SP

  ; *** ART Parameters ***
  SelectPortrait         = BH-ic_L
  ButtonImage            = BH-ic_L
  
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

     DefaultConditionState
      Model              = AVBlackhawk
      Animation          = AVBlackhawk.AVBlackhawk
      AnimationMode      = LOOP
      Turret             = TURRET01
      HideSubObject      = TURRETEL01
    End
    
    ConditionState = MOVING
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
    End

    ConditionState = REALLYDAMAGED
      Model              = AVBlackhawk_D
      Animation          = AVBlackhawk_D.AVBlackhawk_D
      AnimationMode = LOOP
    End
    
    ConditionState = REALLYDAMAGED MOVING
      Model              = AVBlackhawk_D
      Animation          = AVBlackhawk_D.AVBlackhawk_D
      AnimationMode = LOOP
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
    End

    ConditionState = RUBBLE
      Model              = AVBlackhawk_D
      Animation          = AVBlackhawk_D.AVBlackhawk_D
      AnimationMode = LOOP
      HideSubObject = TURRETEL01 GUNNER
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model              = AVBlackhawk_D
      HideSubObject = TURRETEL01 GUNNER
      HideSubObject = Rotor01
      HideSubObject = Rotor02
    End
    OkToChangeModelColor = Yes
  End
  
  Draw = W3DModelDraw ModuleTag_02 ; Helicopter

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model              = AVBlackhawk
      Animation          = AVBlackhawk.AVBlackhawk
      AnimationMode      = Manual
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      HideSubObject      = CHASSIS
      WeaponMuzzleFlash  = PRIMARY   BARRELFX
      WeaponFireFXBone   = PRIMARY   MUZZLE
      WeaponLaunchBone   = PRIMARY   MUZZLE
    End

    ConditionState = ATTACKING
      AnimationMode      = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model              = AVBlackhawk_D
      Animation          = AVBlackhawk_D.AVBlackhawk_D
      AnimationMode = Manual
    End
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE SPECIAL_DAMAGED

    ConditionState = ATTACKING REALLYDAMAGED
      Model              = AVBlackhawk_D
      Animation          = AVBlackhawk_D.AVBlackhawk_D
      AnimationMode = LOOP
    End
    AliasConditionState = ATTACKING RUBBLE
    AliasConditionState = ATTACKING RUBBLE SPECIAL_DAMAGED

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BlackHawk
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 325.0 
  ShroudClearingRange = 290
  Prerequisites
    Object = AmericaDetentionCamp
  End

  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresComancheArmor
    DamageFX              = AAHitscanDamageFX
  End
  BuildTime           = 45              ; in seconds  
  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 160 240 400   ;Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = AmericaVehicleBlackhawkCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = BlackHawkSelect
  VoiceMove             = BlackHawkMove
  VoiceGuard            = BlackHawkMove
  VoiceAttack           = BlackHawkAttack
  SoundAmbient          = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = BlackHawkCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceUnload         = BlackHawkUnload
    VoiceGarrison       = BlackHawkMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = ComancheAmbientLoop
    VoiceCombatDrop     = BlackHawkCombatDrop
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS PORTABLE_STRUCTURE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
 
  Behavior = DeliverPayloadAIUpdate ModuleTag_05
    Turret
      AllowsPitch           = Yes
      TurretTurnRate        = 180
      TurretPitchRate       = 85
      NaturalTurretAngle    = 90
      NaturalTurretPitch    = -10
      MinPhysicalPitch      = -40
      ControlledWeaponSlots = PRIMARY
      RecenterTime          = 1250
    End
  End

  Behavior = TransportContain ModuleTag_06
    Slots = 100
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WEAPONA
    DoorOpenTime = 0
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes
    AllowInsideKindOf = PROJECTILE
  End

  Locomotor = SET_NORMAL BlackHawkLocomotor


;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 200  ; Time between flare volleys
    NumberOfVolleys       = 8    ; Number of times the volleys will fire before reloading
    ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;Deaths-------------------------------------------------------------
  Behavior = HelicopterSlowDeathBehavior DeathTag_01
    DeathTypes = NONE +DETONATED +EXPLODED +LASERED
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 4.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 50.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = UH60RubbleHull
    OCLFinalBlowUp = OCL_HelicopterHitGround
  End
;  Behavior                            = SlowDeathBehavior DeathTag_02
;    ProbabilityModifier = 50
;    DeathTypes                         = NONE +DETONATED +EXPLODED +LASERED
;    FX = INITIAL FX_BlackHawkBladeExplosion
;    OCL = INITIAL OCL_UH60SlowBD
;  End
  Behavior = FXListDie DeathTag_03
    DeathTypes                         = NONE +DETONATED +EXPLODED +LASERED
    DeathFX = FX_BlackHawkExplosionTrailArms
  End
;---------------------------------------------------------------------


  Behavior    = OCLSpecialPower ModuleTag_07
    SpecialPowerTemplate = SuperweaponBlackHawkRade
    OCL                  = SUPERWEAPON_BlackHawkRade
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_10
  End

  Behavior = CreateObjectDie DeathTag_11
    ;DeathTypes = NONE +EXTRA_8
    CreationList = OCL_SpawnBlackHawks
  End

  Behavior = LifetimeUpdate ModuleTag_12
    MinLifetime = 10000
    MaxLifetime = 10000
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = ALL
  End


  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------------------
;----AWACS Death Objects---------------------------------------------------------------------
;------------------------------------------------------------------------------------------

Object AWACSUSASlowBDObject
   ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model           = AVAWACS_E
      Animation       = AVAWACS_E.AVAWACS_E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  ;------------------!!!
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ZFriction = 1
    ForwardFriction = 0.2
  End
  ;------------------!!!

  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_AWACSUSADeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End

  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 0.95

End

;-------------------------------------------------------

Object AWACSUSASlowUWObject
   ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVAWACS_E
    End
  End

  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE

;------------------!!!
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.02
    AllowCollideForce       = No
    AerodynamicFriction     = 15
  End
;------------------!!!

  Behavior = LifetimeUpdate ModuleTag_03
    MinLifetime = 2500   ; min lifetime in msec
    MaxLifetime = 5000   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL
    FX = FINAL JetUnderwaterFinalExplosionFX
  End

  Scale 0.95
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Scale = 0.95
End

;----FINAL DEATH OBJECT

Object AWACSUSADeadHull
; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVAWACS_E
    End
  End

  ; ***DESIGN parameters ***
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = No
  End

  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0   ; min lifetime in msec
    MaxLifetime = 0   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior DeathTag_01
    SinkDelay = 0
    SinkRate = 4     ; in Dist/Sec
    DestructionDelay = 3000
  End

  Behavior = TransitionDamageFX ModuleTag_06
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    RubbleParticleSystem2 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    RubbleParticleSystem3 = Bone:Smoke RandomBone:Yes PSys:FireSmallContinuous
  End

  Geometry = BOX
  GeometryMajorRadius = 38.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 6.5     
  GeometryIsSmall = Yes  
  Scale = 0.95
End


Object AmericaDroneRQ180_SP

  ; *** ART Parameters ***
  SelectPortrait         = USAF_F117_Strike_L1
  ButtonImage            = USAF_F117_Strike_L1

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  UpgradeCameo3 = Upgrade_StealthFlightStabilityControlers


  
  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02


    DefaultConditionState
      Model                           = AV_RQ180
      WeaponLaunchBone  = PRIMARY WeaponA
    End
    
    ConditionState        = JETEXHAUST
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      Model                           = AV_RQ180
      ; exhaust
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
      ParticleSysBone     = Engine01 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AV_RQ180_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AV_RQ180_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model                           = AV_RQ180_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
      ; afterburners
      ParticleSysBone     = Engine01 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AV_RQ180_D
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AV_RQ180_D
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
    End
    
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:RQ180
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 0
  Prerequisites
    Object = AmericaAirfield
  End
;  WeaponSet
;    Conditions = None 
;    Weapon            = PRIMARY A10ThunderboltVulcan
;  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = AAHitscanDamageFX
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient           = A10AmbientLoop
  SoundAmbientRubble     = NoSound
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10DieSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End
 
  Behavior = DeliverPayloadAIUpdate ModuleTag_05
  End

  Locomotor = SET_NORMAL F117Locomotor
  Locomotor = SET_NORMAL_UPGRADED F117UPLocomotor

;Upgrades----------------------------------------------------------
  Behavior                = ArmorUpgrade Upgrade_01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End
  Behavior                = CountermeasuresBehavior Upgrade_02
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 200  ; Time between flare volleys
    NumberOfVolleys       = 8    ; Number of times the volleys will fire before reloading
    ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
  Behavior = LocomotorSetUpgrade Upgrade_03
    TriggeredBy = Upgrade_StealthFlightStabilityControlers
  End
;Deaths-------------------------------------------------------------
 Behavior = JetSlowDeathBehavior DeathTag_01
  FXOnGroundDeath = FX_JetGroundDeathSmall
  OCLOnGroundDeath = OCL_StealthDeathFinalBlowUp
  FX = INITIAL FX_SmallPlaneDeathInitial
  OCL = INITIAL OCL_RQ180SlowBD
 End
; Behavior = JetSlowDeathBehavior DeathTag_02
;  ProbabilityModifier = 50
;  FX = INITIAL FX_StealthFighterDeathInitial
;  OCL = INITIAL OCL_RQ180FastBD
; End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 1000 ; msec
    ;StealthForbiddenConditions            = FIRING_PRIMARY
    ; not currently used... but maybe someday? (srj)
    ;RevealDistanceFromTarget             = 0.0f
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;---------------------------------------------------------------------

  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponF117BombStrike
    UpgradeOCL           = SCIENCE_F117BombStrike3 SUPERWEAPON_F117BombStrike3
    UpgradeOCL           = SCIENCE_F117BombStrike2 SUPERWEAPON_F117BombStrike2
    OCL                  = SUPERWEAPON_F117BombStrike1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09
  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------------------
;----Death Objects---------------------------------------------------------------------
;------------------------------------------------------------------------------------------

Object RQ180SlowBDObject
   ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = AV_RQ180_D
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End

  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE

  ;------------------!!!
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  ;------------------!!!

  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_RQ180DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End

  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;--------------------------------------------------------------

Object RQ180FastBDObject
    ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = AV_RQ180_D
      ParticleSysBone     = WINGTIP01 JetContrail
      ParticleSysBone     = WINGTIP02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End

  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  ;------------------!!!
  Behavior                  = PhysicsBehavior ModuleTag_03
    Mass                    = 1.83
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  ;------------------!!!

  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_RQ180DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End

  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;----------------------------------------------------------------------------------------

Object RQ180DeadHull
  ; *** ART Parameters ***
 Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model           = AV_RQ180_E
    End
  End

  ; ***DESIGN parameters ***
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End


  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = No
  End

  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 500   ; min lifetime in msec
    MaxLifetime = 500   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior DeathTag_01
    SinkDelay = 1000
    SinkRate = 2     ; in Dist/Sec
    DestructionDelay = 3000
  End

  Geometry = BOX
  GeometryMajorRadius = 38.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 6.5     
  GeometryIsSmall = Yes  
End