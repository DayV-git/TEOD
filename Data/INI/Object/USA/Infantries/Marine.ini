Object AmericaInfantryMarine

  ; *** ART Parameters ***
  SelectPortrait         = USMarine_ic_L
  ButtonImage            = USMarine_ic_L

  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo3 = Upgrade_America_InfantryCombatKit 

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

;---------------idle Machinegun Rider1

   DefaultConditionState
      Model               = AIMARINE_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand_RIDER1
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = RIDER1
    
    ; injured idle
    ConditionState        = RIDER1 REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured_RIDER1
    End


    TransitionState     = TRANS_Stand_RIDER1 TRANS_StandInjured_RIDER1
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = RIDER1 MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking_RIDER1
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = RIDER1 MOVING FIRING_A
    AliasConditionState = RIDER1 MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER1 MOVING RELOADING_A


    ; injured moving
    ConditionState     = RIDER1 MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured_RIDER1
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = RIDER1 MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = RIDER1 MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RIDER1 MOVING RELOADING_A REALLYDAMAGED

    ; Firing animation
    ConditionState      = RIDER1 FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA2
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA_RIDER1
    End

    ConditionState      = RIDER1 BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA_RIDER1
    End
    AliasConditionState = RIDER1 RELOADING_A

    ; Injured Firing animation
    ConditionState      = RIDER1 FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured_RIDER1
    End

    ConditionState      = RIDER1 BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured_RIDER1
    End
    AliasConditionState = RIDER1 RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA_RIDER1 TRANS_FiringAInjured_RIDER1
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = RIDER1 SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = RIDER1 SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = RIDER1 CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER1
    End
    AliasConditionState = RIDER1 RAPPELLING
    AliasConditionState = RIDER1 CLIMBING REALLYDAMAGED
    AliasConditionState = RIDER1 RAPPELLING REALLYDAMAGED

    ConditionState      = RIDER1 CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER1
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RIDER1 RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing_RIDER1
    End
    AliasConditionState = RIDER1 RAPPELLING MOVING REALLYDAMAGED

    ; dying anims
    ConditionState      = RIDER1 DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying_RIDER1
    End
    AliasConditionState = RIDER1 RAPPELLING DYING
    AliasConditionState = RIDER1 CLIMBING DYING

    TransitionState     = TRANS_Dying_RIDER1 TRANS_Flailing_RIDER1
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing_RIDER1
    End

    ConditionState      = RIDER1 DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = RIDER1 FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling_RIDER1
    End
    AliasConditionState = RIDER1 FREEFALL REALLYDAMAGED
    AliasConditionState = RIDER1 FREEFALL DYING

    ConditionState      = RIDER1 PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute_RIDER1
    End
    AliasConditionState = RIDER1 PARACHUTING REALLYDAMAGED
    AliasConditionState = RIDER1 PARACHUTING DYING

    TransitionState     = TRANS_Falling_RIDER1 TRANS_Chute_RIDER1
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute_RIDER1 TRANS_Stand_RIDER1
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute_RIDER1 TRANS_StandInjured_RIDER1
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture RIDER1

    ConditionState      = RIDER1 UNPACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = RIDER1 UNPACKING REALLYDAMAGED


    ConditionState      = RIDER1 RAISING_FLAG
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising_RIDER1
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = RIDER1 RAISING_FLAG REALLYDAMAGED

    ConditionState      = RIDER1 PACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing_RIDER1
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = RIDER1 PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising_RIDER1 TRANS_Packing_RIDER1
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
;---------------idle Machinegun RIDER2
   ConditionState = RIDER2
      Model               = AIMARINE_SKN2
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand_RIDER2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      HideSubObject     = MUZZLEFX01
    End
 
    
    ; injured idle
    ConditionState        = RIDER2 REALLYDAMAGED
      Model               = AIMARINE_SKN2
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured_RIDER2
    End


    TransitionState     = TRANS_Stand_RIDER2 TRANS_StandInjured_RIDER2
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = RIDER2 MOVING
      Model               = AIMARINE_SKN2
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking_RIDER2
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = RIDER2 MOVING FIRING_A
    AliasConditionState = RIDER2 MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER2 MOVING RELOADING_A


    ; injured moving
    ConditionState     = RIDER2 MOVING REALLYDAMAGED
      Model               = AIMARINE_SKN2
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured_RIDER2
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = RIDER2 MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = RIDER2 MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RIDER2 MOVING RELOADING_A REALLYDAMAGED

    ; Firing animation
    ConditionState      = RIDER2 FIRING_A
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_ATA3
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA_RIDER2
    End

    ConditionState      = RIDER2 BETWEEN_FIRING_SHOTS_A
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_ATA3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA_RIDER2
    End
    AliasConditionState = RIDER2 RELOADING_A

    ; Injured Firing animation
    ConditionState      = RIDER2 FIRING_A REALLYDAMAGED
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_IATA3
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured_RIDER2
    End

    ConditionState      = RIDER2 BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_IATA3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured_RIDER2
    End
    AliasConditionState = RIDER2 RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA_RIDER2 TRANS_FiringAInjured_RIDER2
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = RIDER2 SPECIAL_CHEERING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = RIDER2 SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = RIDER2 CLIMBING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER2
    End
    AliasConditionState = RIDER2 RAPPELLING
    AliasConditionState = RIDER2 CLIMBING REALLYDAMAGED
    AliasConditionState = RIDER2 RAPPELLING REALLYDAMAGED

    ConditionState      = RIDER2 CLIMBING MOVING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER2
    End
    AliasConditionState = RIDER2 CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RIDER2 RAPPELLING MOVING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing_RIDER2
    End
    AliasConditionState = RIDER2 RAPPELLING MOVING REALLYDAMAGED

    ; dying anims
    ConditionState      = RIDER2 DYING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying_RIDER2
    End
    AliasConditionState = RIDER2 RAPPELLING DYING
    AliasConditionState = RIDER2 CLIMBING DYING

    TransitionState     = TRANS_Dying_RIDER2 TRANS_Flailing_RIDER2
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER2 DYING EXPLODED_FLAILING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing_RIDER2
    End

    ConditionState      = RIDER2 DYING EXPLODED_BOUNCING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = RIDER2 FREEFALL
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling_RIDER2
    End
    AliasConditionState = RIDER2 FREEFALL REALLYDAMAGED
    AliasConditionState = RIDER2 FREEFALL DYING

    ConditionState      = RIDER2 PARACHUTING
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute_RIDER2
    End
    AliasConditionState = RIDER2 PARACHUTING REALLYDAMAGED
    AliasConditionState = RIDER2 PARACHUTING DYING

    TransitionState     = TRANS_Falling_RIDER2 TRANS_Chute_RIDER2
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute_RIDER2 TRANS_Stand_RIDER2
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute_RIDER2 TRANS_StandInjured_RIDER2
      Model               = AIMARINE_SKN2
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

   ; ------- Bldg-capture RIDER2

    ConditionState      = RIDER2 UNPACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
      HideSubObject = GUN01
      ShowSubObject = Gun02
    End
    AliasConditionState = RIDER2 UNPACKING REALLYDAMAGED


    ConditionState      = RIDER2 RAISING_FLAG
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising_RIDER2
      HideSubObject = GUN01
      ShowSubObject = Gun02
    End
    AliasConditionState = RIDER2 RAISING_FLAG REALLYDAMAGED

    ConditionState      = RIDER2 PACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing_RIDER2
      HideSubObject = GUN01
      ShowSubObject = Gun02
    End
    AliasConditionState = RIDER2 PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising_RIDER2 TRANS_Packing_RIDER2
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject = GUN01
      ShowSubObject = Gun02
    End


;---------------------RIder 3 before Milkor Upgrade

   ConditionState = RIDER3
      Model               = AIMARINE_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand_RIDER3
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      HideSubObject     = MUZZLEFX01 Box01
    End
 
    
    ; injured idle
    ConditionState        = RIDER3 REALLYDAMAGED
      Model               = AIMARINE_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured_RIDER3
      HideSubObject     = MUZZLEFX01 Box01
    End


    TransitionState     = TRANS_Stand_RIDER3 TRANS_StandInjured_RIDER3
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End
    
    ; moving
    ConditionState        = RIDER3 MOVING
      Model               = AIMARINE_SKN
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking_RIDER3
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01 Box01
    End
    AliasConditionState = RIDER3 MOVING FIRING_A
    AliasConditionState = RIDER3 MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER3 MOVING RELOADING_A


    ; injured moving
    ConditionState     = RIDER3 MOVING REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured_RIDER3
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01 Box01
    End
    AliasConditionState = RIDER3 MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = RIDER3 MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RIDER3 MOVING RELOADING_A REALLYDAMAGED

    ; Firing animation
    ConditionState      = RIDER3 FIRING_A
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ATA2
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA_RIDER3
      HideSubObject     = Box01
    End

    ConditionState      = RIDER3 BETWEEN_FIRING_SHOTS_A
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ATA2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 RELOADING_A

    ; Injured Firing animation
    ConditionState      = RIDER3 FIRING_A REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured_RIDER3
      HideSubObject     = Box01
    End

    ConditionState      = RIDER3 BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA_RIDER3 TRANS_FiringAInjured_RIDER3
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End

    ; cheering
    ConditionState      = RIDER3 SPECIAL_CHEERING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End
    
    ; injured cheering
    ConditionState      = RIDER3 SPECIAL_CHEERING REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End
    
    ; climbing
    ConditionState      = RIDER3 CLIMBING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 RAPPELLING
    AliasConditionState = RIDER3 CLIMBING REALLYDAMAGED
    AliasConditionState = RIDER3 RAPPELLING REALLYDAMAGED

    ConditionState      = RIDER3 CLIMBING MOVING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RIDER3 RAPPELLING MOVING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 RAPPELLING MOVING REALLYDAMAGED

    ; dying anims
    ConditionState      = RIDER3 DYING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 RAPPELLING DYING
    AliasConditionState = RIDER3 CLIMBING DYING

    TransitionState     = TRANS_Dying_RIDER3 TRANS_Flailing_RIDER3
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End

    ConditionState      = RIDER3 DYING EXPLODED_FLAILING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing_RIDER3
      HideSubObject     = Box01
    End

    ConditionState      = RIDER3 DYING EXPLODED_BOUNCING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
      HideSubObject     = Box01
    End

    ; misc anims
    ConditionState      = RIDER3 FREEFALL
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 FREEFALL REALLYDAMAGED
    AliasConditionState = RIDER3 FREEFALL DYING

    ConditionState      = RIDER3 PARACHUTING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute_RIDER3
      HideSubObject     = Box01
    End
    AliasConditionState = RIDER3 PARACHUTING REALLYDAMAGED
    AliasConditionState = RIDER3 PARACHUTING DYING

    TransitionState     = TRANS_Falling_RIDER3 TRANS_Chute_RIDER3
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      HideSubObject     = Box01
    End

    TransitionState     = TRANS_Chute_RIDER3 TRANS_Stand_RIDER3
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End

    TransitionState     = TRANS_Chute_RIDER3 TRANS_StandInjured_RIDER3
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
      HideSubObject     = Box01
    End

   ; ------- Bldg-capture RIDER3

    ConditionState      = RIDER3 UNPACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = RIDER3 UNPACKING REALLYDAMAGED


    ConditionState      = RIDER3 RAISING_FLAG
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising_RIDER3
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = RIDER3 RAISING_FLAG REALLYDAMAGED

    ConditionState      = RIDER3 PACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing_RIDER3
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = RIDER3 PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising_RIDER3 TRANS_Packing_RIDER3
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End

;----------------------------------------------WEAPONSET_PLAYER_UPGRADE ----------------------------------
   ConditionState = RIDER3 WEAPONSET_PLAYER_UPGRADE
      Model               = AIMARINE_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand_RIDER3_Upgrade
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      HideSubObject     = MUZZLEFX01
    End
 
    
    ; injured idle
    ConditionState        = WEAPONSET_PLAYER_UPGRADE RIDER3 REALLYDAMAGED
      Model               = AIMARINE_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured_RIDER3_Upgrade
      HideSubObject     = MUZZLEFX01
    End


    TransitionState     = TRANS_Stand_RIDER3_Upgrade TRANS_StandInjured_RIDER3_Upgrade
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING
      Model               = AIMARINE_SKN
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking_RIDER3_Upgrade
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING FIRING_A
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING RELOADING_A


    ; injured moving
    ConditionState     = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured_RIDER3_Upgrade
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 MOVING RELOADING_A REALLYDAMAGED

    ; Firing animation
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 FIRING_A
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ATA3
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA_RIDER3_Upgrade
    End

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 BETWEEN_FIRING_SHOTS_A
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ATA3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RELOADING_A

    ; Injured Firing animation
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 FIRING_A REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_IATA3
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured_RIDER3_Upgrade
    End

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_IATA3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA_RIDER3_Upgrade TRANS_FiringAInjured_RIDER3_Upgrade
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 SPECIAL_CHEERING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 SPECIAL_CHEERING REALLYDAMAGED
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 CLIMBING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RAPPELLING
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 CLIMBING REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RAPPELLING REALLYDAMAGED

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 CLIMBING MOVING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 CLIMBING MOVING REALLYDAMAGED

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 RAPPELLING MOVING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RAPPELLING MOVING REALLYDAMAGED

    ; dying anims
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 DYING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RAPPELLING DYING
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 CLIMBING DYING

    TransitionState     = TRANS_Dying_RIDER3_Upgrade TRANS_Flailing_RIDER3_Upgrade
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 DYING EXPLODED_FLAILING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing_RIDER3_Upgrade
    End

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 DYING EXPLODED_BOUNCING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 FREEFALL
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 FREEFALL REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 FREEFALL DYING

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 PARACHUTING
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute_RIDER3_Upgrade
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 PARACHUTING REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 PARACHUTING DYING

    TransitionState     = TRANS_Falling_RIDER3_Upgrade TRANS_Chute_RIDER3_Upgrade
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute_RIDER3_Upgrade TRANS_Stand_RIDER3_Upgrade
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute_RIDER3_Upgrade TRANS_StandInjured_RIDER3_Upgrade
      Model               = AIMARINE_SKN
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

   ; ------- Bldg-capture RIDER3

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 UNPACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 UNPACKING REALLYDAMAGED


    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 RAISING_FLAG
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising_RIDER3_Upgrade
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 RAISING_FLAG REALLYDAMAGED

    ConditionState      = WEAPONSET_PLAYER_UPGRADE RIDER3 PACKING
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing_RIDER3_Upgrade
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RIDER3 PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising_RIDER3_Upgrade TRANS_Packing_RIDER3_Upgrade
      Model             = AIMARINE_FSKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject = Gun02
      ShowSubObject = GUN01
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Marine
  Side                = America
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 225
  ShroudClearingRange = 245
  Prerequisites
    Object = AmericaBarracks
    ;Object = TacticalStrategyCenter
    ;Science = SCIENCE_Pathfinder
  End
  BuildCost = 250
  BuildTime = 7.0          ;in seconds  

  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 160 240 480   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryMarineMachinegunCommandSet

  WeaponSet
    Conditions          = WEAPON_RIDER1
    Weapon              = PRIMARY     MK48MachineGunWeapon
  End

  WeaponSet
    Conditions          = WEAPON_RIDER2
    Weapon              = PRIMARY     MilkorGrenadeWeapon
  End

  WeaponSet
    Conditions          = WEAPON_RIDER3
    Weapon              = PRIMARY     MK48MachineGunWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = AdvancedHumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = AdvancedChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End


  ; *** AUDIO Parameters ***
  VoiceSelect = MarineSelect
  VoiceMove = MarineMove
  VoiceAttack = MarineAttack
  VoiceFear = MarineFear
  VoiceGuard = MarineGuard
  VoiceTaskComplete = MarineCaptureComplete

  UnitSpecificSounds
    VoiceCreate           = MarineCreate
    VoiceGarrison         = MarineGarrison
    VoiceEnter            = MarineMove
    VoiceEnterHostile     = MarineMove
    VoiceGetHealed        = MarineMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE CAN_RAPPEL ;REJECT_UNMANNED  

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 125.0
    InitialHealth   = 125.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL USALocomotorI5

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

;Upgrades----------------------------------------------------------
  Behavior = MaxHealthUpgrade Upgrade_02
    TriggeredBy   = Upgrade_America_InfantryCombatKit 
    AddMaxHealth  = 25.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
  Behavior                = ArmorUpgrade Upgrade_03
    TriggeredBy           = Upgrade_ArmorCommandset
  End
  Behavior = CommandSetUpgrade Upgrade_04
    CommandSet = AmericaInfantryMarineMachinegunCommandSet
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End
  Behavior = UnpauseSpecialPowerUpgrade Upgrade_05
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_MarineDie
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_MarineDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
;Stealth-------------------------------------------------------------

;---------------------------------------------------------------------

  Behavior = PoisonedBehavior ModuleTag_11
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_12
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = MarineCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_13
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 15
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = VeterancyGainCreate ModuleTag_14
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AdvancedTraining
   End

;-------------------------Rider Change--------------------------------------------------------
  Behavior = RiderChangeContain ModuleTag_Switch01

;----------Machinegun
    Rider1 = PreparationRider1 RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryMarineMachinegunCommandSet SET_NORMAL
    Rider3 = PreparationRider3 RIDER3 WEAPON_RIDER3 STATUS_RIDER3 AmericaInfantryMarineMachinegunCommandSet SET_NORMAL
;----------Milkor
    Rider2 = PreparationRider2 RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryMarineMilkorCommandSet SET_NORMAL

    Slots                 = 1
    InitialPayload        = PreparationRider3 1
    DamagePercentToUnits  = 100%
    BurnedDeathToUnits    = No
    AllowInsideKindOf     = CAN_ATTACK
    ScuttleDelay          = 100
    ScuttleStatus         = TOPPLED
  End


  Behavior           = OCLSpecialPower ModuleTag_Machinegun1
    SpecialPowerTemplate = SuperweaponPack
    OCL                  = OCL_MarineSwitchToMachinegun
    CreateLocation       = USE_OWNER_OBJECT
  End

  Behavior           = OCLSpecialPower ModuleTag_Milkor01
    SpecialPowerTemplate = SuperweaponDeploy
    OCL                  = OCL_MarineSwitchToMilkor
    CreateLocation       = USE_OWNER_OBJECT
  End
;-------------------------End Rider Change-------------------------------------------------

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End